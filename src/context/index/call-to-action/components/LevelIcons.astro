---
import { Picture } from "astro:assets";

const getImages = import.meta.glob<{ default: ImageMetadata }>(
  "../assets/small-level-icons/*.{jpeg,jpg,png}"
);
---

{
  Object.values(getImages).map(async (src, index) => {
    const imageResponse = await src();
    const image = imageResponse.default;
    return (
      <Picture
        pictureAttributes={{ class: `icon-level icon-level-${index + 1}` }}
        alt="Icono de nivel de aprendizaje"
        formats={["avif", "webp"]}
        src={image}
        width={100}
        height={100}
      />
    );
  })
}

<style>
  .icon-level {
    position: absolute;
    animation: float-icons 1.5s ease-in-out alternate infinite;
  }
  .icon-level-1 {
    top: 8rem;
    left: 35rem;
    animation-delay: 0.3s;
  }
  .icon-level-2 {
    top: 23rem;
    right: 48rem;
    animation-delay: 0.5s;
  }
  .icon-level-3 {
    top: 6rem;
    right: 51rem;
    animation-delay: 0.1s;
  }
  .icon-level-4 {
    top: 22rem;
    left: 36rem;
  }

  @media (width < 768px) {
    .icon-level {
      position: static;
      margin: 1rem;
    }
  }

  @keyframes float-icons {
    from {
      transform: translateY(0%);
    }
    to {
      transform: translateY(-20%);
    }
  }
</style>
